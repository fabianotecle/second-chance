(()=>{var g="https://restcountries.com/v3.1/all?fields=name,cca2,idd,flags",h="./json/us-country.json",x=["US","PR","RU","EH","KZ","VA","DO","SH"],s=[];async function C(){(await b()).forEach(function(t){let n=t.idd.root,o=t.cca2;if(n){let c=t.idd.suffixes[0];c&&!x.includes(o)&&(n+=c)}let r={code:o,flag:t.flags.svg,prefix:n,name:t.name.common};s.push(r)})}async function b(){try{return(await fetch(g)).json()}catch(e){return(await fetch(h)).json()}}function H(){let e=!1;for(;!e;)e=M()}function M(){let e=!0,t=0;return s.forEach(function(){if(t>0){let n=t-1;if(s[n].code>s[t].code){let o=s[t];s[t]=s[n],s[n]=o,e=!1}}t=t+1}),e}async function y(){return await C(),H(),s}var S=k();function k(){return navigator.language.split("-")[1]}function E(){let e=0,t=!1,n=document.getElementById("div"+e);for(;n&&!t;){let o=n.childNodes[1];if(S===o.innerHTML){l();let r=d(n);u(r),t=!0}e=e+1,n=document.getElementById("div"+e)}}function I(){let e=document.querySelector(".prefix-dropdown_list");e.firstElementChild&&e.removeChild(e.firstElementChild)}function _(e){let t=0,n=document.querySelector(".prefix-dropdown_list");e.forEach(o=>{let r=A(o),c=q(o),m=F(o,t);m.appendChild(r),m.appendChild(c),n.appendChild(m),t=t+1})}function A(e){let t=document.createElement("img");return t.src=e.flag,t.setAttribute("data-element","flag"),t.setAttribute("loading","lazy"),t.setAttribute("alt",e.name),t.className="prefix-dropdown_flag",t}function q(e){let t=document.createElement("div");return t.setAttribute("data-element","value"),t.setAttribute("data-prefix",e.prefix),t.innerHTML=e.code,t}function F(e,t){let n=document.createElement("a");return n.setAttribute("data-element","item"),n.setAttribute("aria-role","option"),n.setAttribute("aria-selected","false"),n.setAttribute("aria-label",e.name),n.setAttribute("title",e.name),n.setAttribute("data-index",String(t)),n.setAttribute("id","div"+t),n.href="#",n.className="prefix-dropdown_item w-inline-block",n.addEventListener("click",function(o){B(o,this)}),n}function B(e,t){e.preventDefault();let n=d(t);u(n),p()}function O(e){let t=document.querySelector("input[name=countryCode]");t.value=e.prefix}function N(e){let t=document.querySelector(".prefix-dropdown_toggle"),n=t.childNodes[0];n.src=e.flag,n.alt=e.name+" Flag";let o=t.childNodes[2];o.innerHTML=e.prefix}function U(e){document.querySelectorAll(".prefix-dropdown_item").forEach(function(t){let n=t;n.title!==e.name?n.classList.remove("w--current"):(n.classList.add("w--current"),i=parseInt(n.getAttribute("data-index")))})}function W(){let e=document.querySelector(".prefix-dropdown_list-wrapper");e.style.transition="all 0.075s linear",e.style.display="block"}function R(){let e=document.querySelector(".prefix-dropdown_chevron");e.style.transition="all 0.075s linear",e.style.transform="rotate(180deg)"}function j(){let e=document.querySelector(".prefix-dropdown_chevron");e.style.transition="all 0.075s linear",e.style.transform="rotate(0deg)"}var v=2.2;function V(){let e=document.querySelector(".w--current");if(e){if(e.offsetTop!==0){let n=document.querySelector(".prefix-dropdown_list");n.scrollTop=e.offsetTop-n.clientHeight/v}let t=e.getAttribute("data-index");i=parseInt(t)}}var i=1;function f(e){let t=document.querySelector(".prefix-dropdown_list");t.scrollTop=e.offsetTop-t.clientHeight/v,e.classList.add("arrowSelected")}function P(){let e=document.querySelector(".prefix-dropdown_toggle");e.addEventListener("keydown",function(t){switch(t.key){case"ArrowDown":L(t,"down");break;case"ArrowUp":L(t,"up");break;case"Enter":w(t);break;case" ":w(t);break;case"Escape":a();break;case"Tab":a();break;default:K(t);break}}),e.addEventListener("click",function(){p()})}function J(e){let t=e.toUpperCase(),n=0,o=0,r=document.getElementById("div"+n);for(;r&&!o;){let c=r.childNodes[1];t===c.innerHTML.charAt(0)&&(l(),i=n,f(r),o=1),n=n+1,r=document.getElementById("div"+n)}}function T(e){I(),_(e),E(),P()}function d(e){let t=e.childNodes[1],n=e.childNodes[0];return{code:t.innerHTML,prefix:t.getAttribute("data-prefix"),flag:n.src,name:e.title}}function u(e){O(e),N(e),U(e)}function p(){let e=document.querySelector(".prefix-dropdown_component");e.classList.contains("open")?a():(e.classList.add("open"),W(),R()),V()}function a(){let e=document.querySelector(".prefix-dropdown_component");if(e.classList.contains("open")){e.classList.remove("open");let t=document.querySelector(".prefix-dropdown_list-wrapper");t.style.transition="all 0.075s linear",t.style.display="none",j(),l()}}function l(){document.querySelectorAll(".prefix-dropdown_item").forEach(function(e){e.classList.remove("arrowSelected")})}function L(e,t){if(document.querySelector(".prefix-dropdown_component").classList.contains("open"))if(e.preventDefault(),t==="up"){let o=document.getElementById("div"+(i-1));o&&(i=i-1,l(),f(o))}else{let o=document.getElementById("div"+(i+1));o&&(i=i+1,l(),f(o))}}function w(e){if(document.activeElement===document.querySelector(".prefix-dropdown_toggle")&&(e.preventDefault(),document.querySelector(".prefix-dropdown_component").classList.contains("open"))){let n=document.querySelector(".w--current"),o=document.getElementById("div"+i);if(n&&o&&n!==o){let r=d(o);u(r)}}p()}function K(e){let t=e.key;document.querySelector(".prefix-dropdown_component").classList.contains("open")&&t.match(/[a-z]/i)&&J(t)}function X(){document.querySelector(".prefix-dropdown_toggle").setAttribute("tabindex","1"),document.querySelector(".text-field.w-input").setAttribute("tabindex","2")}function $(){let e=document.getElementById("phone-form");e.style.display="none";let t=document.querySelector(".w-form-fail");t.style.display="block"}function z(){let e=document.getElementById("phone-form");e.style.display="none";let t=document.querySelector(".w-form-done");t.style.display="block"}async function G(){let e=document.querySelector('[name="phoneNumber"]'),t=document.querySelector('[name="countryCode"]');return await fetch("https://webflow.com/api/v1/form/6273d3f75ac01db3e57995c8",{method:"POST",body:"fields[Phone Number]="+e.value+"&fields[countryCode]="+t.value+"&name=Phone Form&dolphin=false&teste=false&source=https://secondchancefinsweet.webflow.io/",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}async function Z(){a(),(await G()).ok?z():$()}function Q(){document.querySelector(".button.w-button").addEventListener("click",function(t){t.preventDefault(),document.getElementById("phone-form").reportValidity()&&(this.value=this.getAttribute("data-wait"),Z())})}function D(){X(),Q()}window.Webflow||(window.Webflow=[]);window.Webflow.push(async()=>{let e=await y();T(e),D()});})();
